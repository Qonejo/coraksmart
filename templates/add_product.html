<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>A√±adir Nuevo Producto</title>
    <!-- Copiamos los mismos estilos y fuentes de admin.html para que se vea igual -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Press Start 2P', cursive; background-color: #222; color: #fff; padding: 20px; }
        h1 { border-bottom: 2px solid #fff; padding-bottom: 10px; }
        form { background-color: #333; padding: 20px; border: 2px solid #888; }
        label { display: block; margin-bottom: 5px; font-size: 0.9em; }
        input[type="text"], input[type="number"], textarea { width: 95%; padding: 10px; font-family: inherit; background-color: #555; border: 1px solid #888; color: #fff; }
        textarea { height: 80px; }
        button, a.btn { font-family: inherit; font-size: 1em; padding: 10px 15px; border: none; cursor: pointer; text-decoration: none; }
        button[type="submit"] { background-color: #28a745; color: white; }
        a.btn { background-color: #6c757d; color: white; display: inline-block; margin-left: 10px; }
    </style>
</head>
<body>
    <h1>A√±adir Nuevo Producto</h1>
    <!-- El 'enctype' es crucial para que la subida de archivos funcione -->
    <form method="POST" enctype="multipart/form-data">
        <p>
            <label for="nombre">Nombre del Producto:</label>
            <input type="text" name="nombre" id="nombre" required>
        </p>
        <p>
            <label for="descripcion">Descripci√≥n (acepta HTML):</label>
            <textarea name="descripcion" id="descripcion" rows="4"></textarea>
        </p>
        <p>
            <label for="precio">Precio:</label>
            <input type="number" name="precio" id="precio" step="0.01" required>
        </p>
        <p>
            <label for="stock">Stock Inicial:</label>
            <input type="number" name="stock" id="stock" required>
        </p>
        <p>
            <label for="aura_multiplier">Multiplicador de Aura:</label>
            <input type="number" name="aura_multiplier" id="aura_multiplier" step="0.1" value="3.0" required>
        </p>
        <p>
            <label for="promocion" style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" name="promocion" id="promocion" value="true" style="width: auto;">
                Marcar como Promoci√≥n üè∑Ô∏è
            </label>
        </p>
        <p>
            <label for="imagen">Imagen del Producto:</label>
            <input type="file" name="imagen" id="imagen" accept="image/*">
        </p>
        <p>
            <label for="whatsapp_asignado">WhatsApp Asignado:</label>
            <select name="whatsapp_asignado" id="whatsapp_asignado" style="width: 95%; padding: 10px; font-family: inherit; background-color: #555; border: 1px solid #888; color: #fff;">
                <option value="1">WhatsApp 1 - {{ config.whatsapp_1_nombre or 'Principal' }}</option>
                <option value="2">WhatsApp 2 - {{ config.whatsapp_2_nombre or 'Secundario' }}</option>
                <option value="3">WhatsApp 3 - {{ config.whatsapp_3_nombre or 'Terciario' }}</option>
            </select>
        </p>
        <button type="submit">A√±adir Producto</button>
        <a href="{{ url_for('admin') }}" class="btn">Cancelar</a>
    </form>
</body>
</html>